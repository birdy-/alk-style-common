<div ng-include="'/src/maker/home/header.html'"></div>

<div class="container-fluid">
    <div class="row">
        <div class="col-sm-6">
            <br/>
            <a class="btn btn-default" href="/#/dmp/activation/campaign">
                <i class="fa fa-arrow-left"></i> Retour
            </a>
            <h1>
                Buy it now
                <br/>
                <small>Permettez aux visiteurs de votre site de commander vos produits dans un magasin en ligne !</small>
            </h1>

            <h2>Paramétrage</h2>
            <form role="form">
                <div class="form-group">
                    <label for="name">Comment appeler cette campagne ?</label>
                    <input type="text" class="form-control" ng-model="campaign.name" placeholder="ex : Opération spéciale Noël" id="name" required/>
                </div>

                <div>
                    <label for="type">La campagne sera basée sur ?</label>
                </div>
                <div class="form-group">
                    <label class="radio-inline">
                        <input type="radio" ng-model="campaign.basedOn" value="product"/>
                        Un ou des produits
                    </label>
                    <label class="radio-inline">
                        <input type="radio" ng-model="campaign.basedOn" value="brand"/>
                        Une marque
                    </label>
                </div>

                <div ng-if="campaign.basedOn === 'product'">
                    <div class="form-group">
                        <label for="_runsOnProduct">Quel produits doivent-être affiché ?</label>
                        <div alk-autocomplete-my
                             alk-autocomplete-type="Product"
                             alk-autocomplete-multiple="true"
                             alk-autocomplete-restrict="restrict"
                             placeholder="Entrez un EAN"
                             ng-model="campaign._runsOnProduct"
                             id="_runsOnProduct"
                             required>
                        </div>
                    </div>
                </div>

                <div ng-if="campaign.basedOn === 'brand'">
                    <div class="form-group">
                        <label for="_runsOnBrand">Quelle marque doit-être mise en avant ?</label>
                        <div alk-autocomplete-my
                             alk-autocomplete-type="Brand"
                             alk-autocomplete-multiple="false"
                             alk-autocomplete-restrict="restrict"
                             placeholder="Entrez une marque"
                             ng-model="campaign._runsOnBrand"
                             id="_runsOnBrand"
                             required>
                        </div>
                    </div>
                </div>

                <div ng-show="campaign.basedOn">

                    <div class="form-group">
                        <label for="_runsIn">Quelles enseignes doivent apparaître ?</label>
                        <div alk-autocomplete
                             alk-autocomplete-type="shop"
                             alk-autocomplete-multiple="true"
                             placeholder="Choisir les enseignes"
                             ng-model="campaign.stores"
                             id="_runsIn"
                             required>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="row">
                            <div class="col-sm-5 col-sm-offset-1">
                                <label for="campaign-effective-start-date-time">Date de début de la campagne</label>
                                <div datepicker show-weeks="false" ng-model="campaign.startsAt" min-date="minDate" id="campaign-effective-start-date-time" required></div>
                            </div>
                            <div class="col-sm-5">
                                <label for="campaign-effective-end-date-time">Date de fin de la campagne</label>
                                <div datepicker show-weeks="false" ng-model="campaign.endsAt" id="campaign-effective-end-date-time" required></div>
                            </div>
                        </div>
                    </div>
                    <br/>
                    <div class="form-group text-right">
                        <button type="submit" class="btn btn-success" ng-click="persist()">
                            <i class="fa fa-save"></i> Enregistrer
                        </button>
                    </div>
                </div>
            </form>

            <div ng-if="preview">
                <h2>Intégration</h2>
                <p>
                    Il vous suffit d'utiliser l'URL :
                </p>
                <pre>http://assets.toc.io/interfaces/landing-page-product-simple/v1/index.html#/?campaign_id={{ campaign.id }}&app_id=UA-0000-0&client_id=YOUR_CLIENTID
                </pre>
                <img src="/images/home/0800.png" class="pull-right" height="27"/>
                <p>
                    Pour toute question, vous pouvez également contacter notre support : <a href="mailto:support@alkemics.com">support@alkemics.com</a>
                </p>
                <br/><br/>
            </div>
        </div>

        <div class="col-sm-6" ng-if="preview">
            <div class="screen-bottom-container">
                <div class="screen-bottom-border">
                    <div class="screen-bottom-content">
                        <iframe height="100%" width="100%"
                                src="//assets.toc.io/interfaces/landing-page-product-simple/v1/index.html#/">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
