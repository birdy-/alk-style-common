<div class="menu">
    <div>
        <a href="/#/flux/maker/product">&lt; Retour</a>
        <br/>
        <br/>
    </div>
    <div>
        <img height="100" class="ratio" style="background-color: white" ng-style="{'background-image': 'url(' + product.isInstantiatedBy[0].picture.main + ')'}"/>
    </div>
    <div class="text-center">
        <h4>{{ product.name }}</h4>
        <strong>{{ product.packaging }}</strong>
        <br/>
        <br/>
        <span class="label label-success" ng-show="product.accepted === true" tooltip-placement="top" tooltip="Vous avez reconnu être en charge de ce produit." tooltip-trigger="mouseenter">
            <i class="fa fa-check"></i> Accepté
        </span>
        <span class="label label-warning" ng-show="product.accepted === false" tooltip-placement="top" tooltip="Vous n'avez pas reconnu être en charge de ce produit." tooltip-trigger="mouseenter">
            <i class="fa fa-warning"></i> Non accepté
        </span>
        <br/>
        <br/>
        <span class="label label-success" ng-show="product.certified === true" tooltip-placement="top" tooltip="Vous avez certifié la conformité des informations sur ce produit." tooltip-trigger="mouseenter">
            <i class="fa fa-certificate"></i> Certifié
        </span>
        <span class="label label-warning" ng-show="product.certified === false" tooltip-placement="top" tooltip="Vous n'avez pas encore certifié la conformité des informations sur ce produit." tooltip-trigger="mouseenter">
            <i class="fa fa-warning"></i> Non certifié
        </span>
    </div>
    <div class="actions">
        <div>
            Conformité directive 1169 :
            <div class="progress">
                <div class="text-center" style="height: 0px;">{{ completeness | number:0 }} %</div>
                <div class="progress-bar" ng-class="{'progress-bar-warning': !product.status, 'progress-bar-success': product.status}" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{ completeness }}%;">
                </div>
            </div>
        </div>
        <button ng-click="submit()" class="btn color-product col-lg-12"><i class="fa fa-save"></i> Enregistrer</button>
        <br/>
        <br/>
        <button ng-click="certify()" class="btn btn-success col-lg-12"><i class="fa fa-certificate"></i> Certifier</button>
    </div>
</div>

<div class="sheet container-fluid">
    <div class="clearfix">
        <h1>
            {{ product.name }}
            <small>{{ product.isProducedBy.name }}</small>
        </h1>
    </div>
    <form class="form-horizontal" role="form" name="productForm" novalidate>
        <tabset>
            <tab heading="Général">
                <div ng-include="'/views/maker/product/show/general.html'"></div>
            </tab>
            <tab heading="Identification">
                <div ng-include="'/views/maker/product/show/identification.html'"></div>
            </tab>
            <tab heading="Médias">
                <div ng-include="'/views/maker/product/show/media.html'"></div>
            </tab>
            <tab heading="Composition">
                <div ng-include="'/views/maker/product/show/composition.html'"></div>
            </tab>
            <tab heading="Nutrition">
                <div ng-include="'/views/maker/product/show/nutrition.html'"></div>
            </tab>
            <tab heading="Labels">
                <div ng-include="'/views/maker/product/show/label.html'"></div>
            </tab>
            <tab heading="Conservation">
                <div ng-include="'/views/maker/product/show/conservation.html'"></div>
            </tab>
            <tab heading="Conformité des fiches">
                <div ng-include="'/views/maker/product/show/productinshop.html'"></div>
            </tab>
            <!--
            <tab heading="Historique">
                <div ng-include="'/views/maker/product/show/history.html'"></div>
            </tab>
            -->
        </tabset>
    </form>
</div>